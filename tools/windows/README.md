## PG на Windows

согласно спискам рассылки postgresql.org на Windows pg имеет ряд архитектруных особенностей, но люди все равно его устаналивают, причем в списке причин фигурируют:

* внутрикорпоративный стандарт
* отсутствие опыта администрирования linux
* отсутствие желания администрировать linux в принципе и pg на linux в частности

не будем комментировать, просто дадим ссылки на дистрибутивы

* 9.4.7 и выше http://www.postgrespro.ru/products/1c_build
* 9.4.2 и ниже https://releases.1c.ru/project/AddCompPostgre (требует акаунта на users.v8.1.ru)

и создадим немного полезных скриптов для пользователей Windows

### Работа инсталятора PostgreSQLPro

* после установки инсталятор предложит вам выбрать
  * порт установки и каталог для базы
  * "супер" пользователя и пароль
  * предложит оптимизировать конфигурацию под текущую систему. Обратите внимание - инсталятор предполагает, что вы выделили данный сервер полностью под нужды PG, если вы установили 1С сервер рядом, придется настраивать конфигурацию вручную.

Что поменяет инсталятор: пример diff файла для хоста - 4 CPU, 16 GB RAM с Windows 2012 Server

```
c:\data\diff postgresql.conf.old postgresql.conf
126c126
< #work_mem = 4MB				# min 64kB
---
> work_mem = 128MB				# min 64kB
```

что такое work_mem можно почитать тут https://wiki.postgresql.org/wiki/Tuning_Your_PostgreSQL_Server

### Установщик скриптов

для удобства запуска скриптов, мы предполагаю что на Вашем Windows сервере установлено - https://chocolatey.org/

* install-as-admid.cmd - устанавливает на сервер утилиты (в том числе для сборки из исходников)

### Чего лишаются пользователи Windows

например такого

* github.com/repos/dalibo/powa-archivist
* github.com/repos/dalibo/pg_qualstats
* github.com/repos/dalibo/hypopg

в целом любое расширение на `С` большинству пользователей Windows противопоказано, как и множество скриптов
а также сжатие базы данных - будь то ZFS, XFS, <любые другие>FS
